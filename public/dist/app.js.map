{"version":3,"sources":["webpack:///webpack/bootstrap 7a74ee9e6faf8c9a8e3e","webpack:///./public/app/core/app.js","webpack:///external \"angular\"","webpack:///./public/app/config/routes.js","webpack:///./public/app/config/routeCallbacks.js","webpack:///./public/app/core/controllers.js","webpack:///./public/app/core/services.js","webpack:///./public/app/core/models.js","webpack:///./public/app/core/constants.js","webpack:///./public/app/core/directives.js","webpack:///./public/app/home/homeCtrl.js","webpack:///./public/app/data-services/ws-client.js","webpack:///./public/app/services/gamesLoader.js","webpack:///./public/app/services/dataService.js","webpack:///./public/app/models/team.js","webpack:///./public/app/models/game.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,wC;;;;;;;ACtCA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA,MAAK;;AAEL;;AAEA;;AAEA;AACA;AACA,MAAK;;AAEL;;AAEA;;AAEA;AACA;AACA,MAAK;;AAEL;;AAEA;;AAEA;AACA;AACA,MAAK;;AAEL;;AAEA;;AAEA;AACA;;AAEA;AACA,EAAC,I;;;;;;ACzED,0B;;;;;;ACAA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,sBAAqB;AACrB;AACA,cAAa;;AAEb;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;;;;;;;;AC7CA;AACA;AACA;AACA;AACA,UAAS;AACT,MAAK;AACL;;AAEA,4B;;;;;;ACTA;AACA;AACA;AACA;AACA;AACA,G;;;;;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G;;;;;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA,G;;;;;;;ACLA;AACA;AACA;AACA;AACA,EAAC;;;;;;;ACLD;AACA;AACA;AACA;AACA,G;;;;;;ACJA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,sDAAqD,sCAAsC;;AAE3F;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA,EAAC;;;;;;;AC9CD;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,EAAC,I;;;;;;AC7ED;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,EAAC,I;;;;;;AC1CD;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,EAAC,I;;;;;;ACvCD;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA,UAAS;;AAET;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA,EAAC,I;;;;;;AClDD;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA,UAAS;;AAET;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA,EAAC,I","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 7a74ee9e6faf8c9a8e3e\n **/","(function(){\r\n    'use strict';\r\n\r\n    // region Deps\r\n\r\n    var\r\n        angular = require('angular'),\r\n        routes = require('../config/routes'),\r\n        routeCallbacks = require('../config/routeCallbacks'),\r\n        controllers = require('./controllers'),\r\n        services = require('./services'),\r\n        models = require('./models'),\r\n        constants = require('./constants'),\r\n        directives = require('./directives');\r\n\r\n    // endregion\r\n\r\n    // region Private Fields\r\n\r\n    var\r\n        _mainModule = angular.module('app.core', [\r\n            'ngRoute',\r\n            'app.services',\r\n            'app.controllers',\r\n            'app.models',\r\n            'app.directives'\r\n        ]),\r\n\r\n        servicesModule = angular.module('app.services', []),\r\n        controllersModule = angular.module('app.controllers', []),\r\n        modelsModule = angular.module('app.models', []),\r\n        directivesModule = angular.module('app.directives', []);\r\n\r\n    // endregion\r\n\r\n    // region Register all Controllers\r\n\r\n    controllers.forEach(function(controller){\r\n        controllersModule.controller(controller.name, controller.ctrl);\r\n    });\r\n\r\n    // endregion\r\n\r\n    // region Register All Services\r\n\r\n    services.concat(constants).forEach(function(service){\r\n        servicesModule[service.type](service.name, service.service);\r\n    });\r\n\r\n    // endregion\r\n\r\n    // region Register All Models\r\n\r\n    models.forEach(function(model){\r\n        modelsModule.factory(model.name, model.ctor);\r\n    });\r\n\r\n    // endregion\r\n\r\n    // region Register All Directives\r\n\r\n    directives.forEach(function(directive){\r\n        directivesModule.directive(directive.name, directive.directive);\r\n    });\r\n\r\n    // endregion\r\n\r\n    // region Config Phase\r\n\r\n    routes(_mainModule);\r\n    routeCallbacks(_mainModule);\r\n\r\n    // endregion\r\n})();\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./public/app/core/app.js\n ** module id = 0\n ** module chunks = 0\n **/","module.exports = angular;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"angular\"\n ** module id = 1\n ** module chunks = 0\n **/","// region Consts\r\n\r\n// This is relative to the nodeJS static files directory !!!\r\nvar BASE_DIR = '/public/app/';\r\n\r\n// endregion\r\n\r\n// region Inner Methods\r\n\r\n/**\r\n * Registers front end routes\r\n * @param app\r\n */\r\nfunction configure(app) {\r\n    app.config(['$routeProvider', '$locationProvider', function ($routeProvider, $locationProvider) {\r\n        $routeProvider\r\n            .when('/', {\r\n                templateUrl: _getPath('home/index'),\r\n                controller: 'homeCtrl as  homeCtrl',\r\n                title: 'Premier League Table',\r\n\r\n                resolve: {\r\n                    teamsResolved: ['API_ENDPOINT', 'dataService', function(API_ENDPOINT, dataService){\r\n                        return dataService.get(API_ENDPOINT + 'teams');\r\n                    }]\r\n                }\r\n            });\r\n\r\n        $routeProvider.otherwise('/');\r\n        $locationProvider.html5Mode(true);\r\n    }]);\r\n}\r\n\r\n/**\r\n * Return the paths relative to base dir\r\n *\r\n * @param filePath\r\n * @returns {string}\r\n * @private\r\n */\r\nfunction _getPath(filePath){\r\n    return BASE_DIR + filePath + '.html';\r\n}\r\n\r\n// endregion\r\n\r\nmodule.exports = configure;\r\n\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./public/app/config/routes.js\n ** module id = 2\n ** module chunks = 0\n **/","\r\nfunction configure(app){\r\n    app.run(['$rootScope', function($rootScope){\r\n        $rootScope.$on('$routeChangeSuccess', function(event, route){\r\n            $rootScope.title = 'Football Rader | ' + route.title;\r\n        });\r\n    }]);\r\n}\r\n\r\nmodule.exports = configure;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./public/app/config/routeCallbacks.js\n ** module id = 3\n ** module chunks = 0\n **/","/**\r\n * Loads all the controllers of the app\r\n */\r\nmodule.exports = [\r\n    require('../home/homeCtrl')\r\n];\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./public/app/core/controllers.js\n ** module id = 4\n ** module chunks = 0\n **/","/**\r\n * Loads all the services of the app\r\n */\r\nmodule.exports = [\r\n    require('../data-services/ws-client'),\r\n    require('../services/gamesLoader'),\r\n    require('../services/dataService')\r\n];\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./public/app/core/services.js\n ** module id = 5\n ** module chunks = 0\n **/","/**\r\n * Loads all the models of the app\r\n */\r\nmodule.exports = [\r\n    require('../models/team'),\r\n    require('../models/game')\r\n];\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./public/app/core/models.js\n ** module id = 6\n ** module chunks = 0\n **/","\nmodule.exports = [{\n  name: 'API_ENDPOINT',\n  type: 'constant',\n  service: 'http://localhost:8080/'\n}];\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./public/app/core/constants.js\n ** module id = 7\n ** module chunks = 0\n **/","/**\r\n * Loads all the directives\r\n */\r\nmodule.exports = [\r\n];\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./public/app/core/directives.js\n ** module id = 8\n ** module chunks = 0\n **/","/**\r\n * Home ctrl\r\n */\r\n(function(){\r\n    'use strict';\r\n\r\n    function HomeCtrl(gamesLoader, teamsResolved, Team){\r\n\r\n        // region Setup\r\n\r\n        gamesLoader.init(on_msg, on_error);\r\n\r\n        // endregion\r\n\r\n        // region Inner Fields\r\n\r\n        var teams = teamsResolved.map(function(team){ return new Team(team.id, team.name) });\r\n\r\n        // endregion\r\n\r\n        // region Viewmodel\r\n\r\n        // endregion\r\n\r\n        // region Events\r\n\r\n        function on_msg(msg){\r\n            console.info(msg);\r\n        }\r\n\r\n        function on_error(error){\r\n            console.error(error);\r\n        }\r\n\r\n        // endregion\r\n    }\r\n\r\n    // region CommonJS\r\n\r\n    module.exports = {\r\n        name: 'homeCtrl',\r\n        ctrl: ['gamesLoaderService', 'teamsResolved', 'Team', HomeCtrl]\r\n    };\r\n    \r\n    // endregion\r\n\r\n})();\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./public/app/home/homeCtrl.js\n ** module id = 9\n ** module chunks = 0\n **/","/**\r\n * A Web Socket Client\r\n */\r\n(function(){\r\n    'use strict';\r\n\r\n    function WebSocketClientService(){\r\n\r\n        // region Inner Methods\r\n\r\n        function init(url, onmsg, onerr){\r\n            if(!url) throw new Error('WebSocket url is required');\r\n\r\n            this._url = url;\r\n            this._connection = new window.WebSocket('ws://' + url);\r\n\r\n            // events\r\n            this._connection.onopen = onopen.bind(this);\r\n            this._connection.onerror = onerror.bind(this, onerr);\r\n            this._connection.onmessage = onmessage.bind(this, onmsg);\r\n        }\r\n\r\n        function onopen(){\r\n            console.info(\"Socket opened :\" + this._url);\r\n        }\r\n\r\n        function onerror(clb, error){\r\n            clb(error);\r\n        }\r\n\r\n        function onmessage(clb, msg){\r\n            try {\r\n                var json = JSON.parse(msg.data);\r\n            } catch (e) {\r\n                console.log('This doesn\\'t look like a valid JSON: ', msg.data);\r\n                return;\r\n            }\r\n\r\n            clb(json);\r\n        }\r\n\r\n        // endregion\r\n\r\n        // region Ctor\r\n\r\n        function WebSocketClient(){\r\n            this._url = undefined;\r\n            this._connection = null;\r\n\r\n        }\r\n\r\n        WebSocketClient.prototype = (function(){\r\n            return {\r\n                constructor: WebSocketClient,\r\n                init: init\r\n            };\r\n        })();\r\n\r\n        // endregion\r\n\r\n        // region Public API\r\n\r\n        return WebSocketClient;\r\n\r\n        // endregion\r\n    }\r\n\r\n    // region CommonJS\r\n\r\n    module.exports = {\r\n        name: 'WebSocketClientService',\r\n        type: 'factory',\r\n        service: [WebSocketClientService]\r\n    };\r\n\r\n    // endregion\r\n\r\n})();\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./public/app/data-services/ws-client.js\n ** module id = 10\n ** module chunks = 0\n **/","/**\r\n * Loads the game result through a websocket\r\n */\r\n(function(){\r\n    'use strict';\r\n    \r\n    function gamesLoaderService(WebSocketClientService){\r\n        // region Consts\r\n\r\n        var WS_URL = '127.0.0.1:8080/games';\r\n\r\n        // endregion\r\n\r\n        // region Inner Methods\r\n\r\n        function init(on_msg, on_error){\r\n            var webSocketClientService = new WebSocketClientService();\r\n\r\n            webSocketClientService.init(WS_URL, on_msg, on_error);\r\n        }\r\n\r\n        // endregion\r\n        \r\n        // region Public API\r\n        \r\n        return {\r\n            init: init\r\n        };\r\n        \r\n        // endregion\r\n    }\r\n    \r\n    // region CommonJS\r\n    \r\n    module.exports = {\r\n        name: 'gamesLoaderService',\r\n        type: 'factory',\r\n        service: ['WebSocketClientService', gamesLoaderService]\r\n    };\r\n    \r\n    // endregion\r\n\r\n})();\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./public/app/services/gamesLoader.js\n ** module id = 11\n ** module chunks = 0\n **/","/**\r\n * Http service\r\n */\r\n(function(){\r\n    'use strict';\r\n\r\n    function dataService($q, $http){\r\n\r\n        // region Inner Methods\r\n\r\n        function get(url){\r\n            return $q(function(resolve, reject){\r\n                $http.get(url)\r\n                    .success(resolve)\r\n                    .error(reject);\r\n            });\r\n        }\r\n\r\n        // endregion\r\n\r\n        // region Public API\r\n\r\n        return {\r\n            get: get\r\n        };\r\n\r\n        // endregion\r\n    }\r\n\r\n    // region CommonJS\r\n\r\n    module.exports = {\r\n        name: 'dataService',\r\n        type: 'factory',\r\n        service: ['$q', '$http', dataService]\r\n    };\r\n\r\n    // endregion\r\n\r\n})();\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./public/app/services/dataService.js\n ** module id = 12\n ** module chunks = 0\n **/","/**\r\n* Team model\r\n*/\r\n(function(){\r\n    'use strict';\r\n\r\n    function Team(){\r\n\r\n        // region Inner Methods\r\n\r\n        // endregion\r\n\r\n        // region Ctor\r\n\r\n        function Team(id, name){\r\n            if(!id)throw new Error('Please give an id for this team');\r\n            if(!name)throw new Error('Please give a name for this team');\r\n\r\n            this.id = id;\r\n            this.name = name;\r\n        }\r\n\r\n        Team.prototype = (function(){\r\n\r\n            // region Public Api\r\n\r\n            var publicAPI = {\r\n                constructor: Team\r\n            };\r\n\r\n            // endregion\r\n\r\n            return publicAPI;\r\n\r\n        })();\r\n\r\n        // endregion\r\n\r\n        return Team;\r\n    }\r\n\r\n    // region CommonJS\r\n\r\n    module.exports = {\r\n        name: 'Team',\r\n        ctor: [Team]\r\n    };\r\n\r\n    // endregion\r\n\r\n})();\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./public/app/models/team.js\n ** module id = 13\n ** module chunks = 0\n **/","/**\r\n* Game model\r\n*/\r\n(function(){\r\n    'use strict';\r\n\r\n    function Game(){\r\n\r\n        // region Inner Methods\r\n\r\n        // endregion\r\n\r\n        // region Ctor\r\n\r\n        function Game(values){\r\n            this.date = values.date;\r\n            this.homeTeamId = values.homeTeamId;\r\n            this.awayTeamId = values.awayTeamId;\r\n            this.homeGoals = values.homeGoals;\r\n            this.awayGoals = values.awayGoals;\r\n        }\r\n\r\n        Game.prototype = (function(){\r\n\r\n            // region Public Api\r\n\r\n            var publicAPI = {\r\n                constructor: Game\r\n            };\r\n\r\n            // endregion\r\n\r\n            return publicAPI;\r\n\r\n        })();\r\n\r\n        // endregion\r\n\r\n        return Game;\r\n    }\r\n\r\n    // region CommonJS\r\n\r\n    module.exports = {\r\n        name: 'Game',\r\n        ctor: [Game]\r\n    };\r\n\r\n    // endregion\r\n\r\n})();\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./public/app/models/game.js\n ** module id = 14\n ** module chunks = 0\n **/"],"sourceRoot":"","file":"app.js"}